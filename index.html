<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test Login Microsoft</title>
  <script src="https://alcdn.msauth.net/browser/2.38.2/js/msal-browser.min.js"></script>
</head>
<body>
  <h1>Prueba de login con Microsoft</h1>
  <button id="connectBtn">Conectar con Microsoft</button>
  <div id="status"></div>

  <script>
    // ‚ö†Ô∏è Usa los datos reales de tu app
    const msalConfig = {
      auth: {
        clientId: "3246b16d-65db-465a-b3de-fd638e589cd", // de tu captura
        authority: "https://login.microsoftonline.com/136d5ab5-5b55-496f-97cb-24244771f5ed/", // tenant ID
        redirectUri: "https://andreseliecergonzalez-afk.github.io/gestor-turnos/"
      }
    };

    const msalInstance = new msal.PublicClientApplication(msalConfig);
    const loginRequest = { scopes: ["User.Read"] };

    function setStatus(msg) {
      document.getElementById("status").innerText = msg;
      console.log(msg);
    }

    async function login() {
      try {
        setStatus("üîÑ Abriendo login...");
        const response = await msalInstance.loginPopup(loginRequest);
        setStatus("‚úÖ Autenticado como: " + response.account.username);
        console.log("Login completo:", response);
      } catch (e) {
        console.error("‚ùå Error login:", e);
        setStatus("‚ùå Error: " + e.message);
      }
    }

    document.getElementById("connectBtn").addEventListener("click", login);
  </script>
</body>
</html>

